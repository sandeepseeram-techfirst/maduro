---
#if route crd exists
{{- if .Capabilities.APIVersions.Has "route.openshift.io/v1" }}
apiVersion: route.openshift.io/v1
kind: Route
metadata:
    name: {{ include "maduro.fullname" . }}-ui
    namespace: {{ include "maduro.namespace" . }}
spec:
    to:
        kind: Service
        name: {{ include "maduro.fullname" . }}-ui
    port:
        targetPort: {{ .Values.ui.service.ports.port }}
    tls:
        termination: edge
        insecureEdgeTerminationPolicy: Redirect
{{- end }}